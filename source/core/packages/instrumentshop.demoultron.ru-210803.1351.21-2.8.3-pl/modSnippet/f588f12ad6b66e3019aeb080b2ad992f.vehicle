<?php return array (
  'preserve_keys' => true,
  'update_object' => true,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => '1e99b617a4af6f3ee84337bf32d48995',
  'package' => 'modx',
  'class' => 'modSnippet',
  'signature' => 'f588f12ad6b66e3019aeb080b2ad992f',
  'native_key' => 101,
  'object' => '{"id":101,"source":0,"property_preprocess":0,"name":"migxHookAftercollectmigxitems","description":"","editor_type":0,"category":3,"cache_type":0,"snippet":"$configs = $modx->getOption(\'configs\', $_REQUEST, \'\');\\n\\n$rows = $modx->getOption(\'rows\', $scriptProperties, array());\\n$newrows = array();\\n\\n\\nif (is_array($rows)) {\\n    $max_id = 0;\\n    $dbfields = array();\\n    $existing_dbfields = array();\\n    foreach ($rows as $key => $row) {\\n        if (isset($row[\'MIGX_id\']) && $row[\'MIGX_id\'] > $max_id) {\\n            $max_id = $row[\'MIGX_id\'];\\n        }\\n        if (isset($row[\'selected_dbfields\']) && isset($row[\'existing_dbfields\'])) {\\n            $dbfields = is_array($row[\'selected_dbfields\']) ? $row[\'selected_dbfields\'] : array($row[\'selected_dbfields\']);\\n            \\n            $existing_dbfields = explode(\'||\', $row[\'existing_dbfields\']);\\n            \\/\\/echo \'<pre>\' . print_r($existing_dbfields,1) . \'<\\/pre>\';die();\\n\\n        } else {\\n            $newrows[] = $row;\\n        }\\n\\n    }\\n\\n    foreach ($dbfields as $dbfield) {\\n        if (!empty($dbfield) && !in_array($dbfield, $existing_dbfields)) {\\n            $max_id++;\\n            $newrow = array();\\n            $newrow[\'MIGX_id\'] = $max_id;\\n\\n            switch ($configs) {\\n                case \'migxformtabfields\':\\n                    $newrow[\'field\'] = $dbfield;\\n                    $newrow[\'caption\'] = $dbfield;\\n                    break;\\n                case \'migxcolumns\':\\n                    $newrow[\'dataIndex\'] = $dbfield;\\n                    $newrow[\'header\'] = $dbfield;\\n                    break;                    \\n            }\\n\\n\\n            $newrows[] = $newrow;\\n        }\\n    }\\n\\n\\n}\\n\\n\\nreturn json_encode($newrows);","locked":0,"properties":"a:0:{}","moduleguid":"","static":0,"static_file":"","content":"$configs = $modx->getOption(\'configs\', $_REQUEST, \'\');\\n\\n$rows = $modx->getOption(\'rows\', $scriptProperties, array());\\n$newrows = array();\\n\\n\\nif (is_array($rows)) {\\n    $max_id = 0;\\n    $dbfields = array();\\n    $existing_dbfields = array();\\n    foreach ($rows as $key => $row) {\\n        if (isset($row[\'MIGX_id\']) && $row[\'MIGX_id\'] > $max_id) {\\n            $max_id = $row[\'MIGX_id\'];\\n        }\\n        if (isset($row[\'selected_dbfields\']) && isset($row[\'existing_dbfields\'])) {\\n            $dbfields = is_array($row[\'selected_dbfields\']) ? $row[\'selected_dbfields\'] : array($row[\'selected_dbfields\']);\\n            \\n            $existing_dbfields = explode(\'||\', $row[\'existing_dbfields\']);\\n            \\/\\/echo \'<pre>\' . print_r($existing_dbfields,1) . \'<\\/pre>\';die();\\n\\n        } else {\\n            $newrows[] = $row;\\n        }\\n\\n    }\\n\\n    foreach ($dbfields as $dbfield) {\\n        if (!empty($dbfield) && !in_array($dbfield, $existing_dbfields)) {\\n            $max_id++;\\n            $newrow = array();\\n            $newrow[\'MIGX_id\'] = $max_id;\\n\\n            switch ($configs) {\\n                case \'migxformtabfields\':\\n                    $newrow[\'field\'] = $dbfield;\\n                    $newrow[\'caption\'] = $dbfield;\\n                    break;\\n                case \'migxcolumns\':\\n                    $newrow[\'dataIndex\'] = $dbfield;\\n                    $newrow[\'header\'] = $dbfield;\\n                    break;                    \\n            }\\n\\n\\n            $newrows[] = $newrow;\\n        }\\n    }\\n\\n\\n}\\n\\n\\nreturn json_encode($newrows);"}',
);