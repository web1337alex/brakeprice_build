<?php return array (
  'preserve_keys' => true,
  'update_object' => true,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => 'a78c1068e7f13df5413c16c5e514a5ac',
  'package' => 'modx',
  'class' => 'modSnippet',
  'signature' => '7fa7bc9d00a2e4c47d15008e271cf316',
  'native_key' => 60,
  'object' => '{"id":60,"source":1,"property_preprocess":0,"name":"pdoMenu","description":"","editor_type":0,"category":12,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\n\\/\\/ Convert parameters from Wayfinder if exists\\nif (isset($startId)) {\\n    $scriptProperties[\'parents\'] = $startId;\\n}\\nif (!empty($includeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = $v;\\n        }\\n    }\\n}\\nif (!empty($excludeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\n\\nif (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {\\n    $scriptProperties[\'showUnpublished\'] = 1;\\n}\\n\\n$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;\\nif (!empty($contexts)) {\\n    $scriptProperties[\'context\'] = $contexts;\\n}\\nif (empty($scriptProperties[\'context\'])) {\\n    $scriptProperties[\'context\'] = $modx->resource->context_key;\\n}\\n\\n\\/\\/ Save original parents specified by user\\n$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n\\nif ($scriptProperties[\'parents\'] === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {\\n    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {\\n        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));\\n        $parents = array();\\n        if (!empty($scriptProperties[\'showDeleted\'])) {\\n            $pdoFetch = $modx->getService(\'pdoFetch\');\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        } else {\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        }\\n        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';\\n        $scriptProperties[\'depth\'] = 0;\\n    }\\n    $scriptProperties[\'includeParents\'] = 1;\\n    $scriptProperties[\'displayStart\'] = 0;\\n} else {\\n    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n    $parents_in = $parents_out = array();\\n    foreach ($parents as $v) {\\n        if (!is_numeric($v)) {\\n            continue;\\n        }\\n        if ($v[0] == \'-\') {\\n            $parents_out[] = abs($v);\\n        } else {\\n            $parents_in[] = abs($v);\\n        }\\n    }\\n\\n    if (empty($parents_in)) {\\n        $scriptProperties[\'includeParents\'] = 1;\\n        $scriptProperties[\'displayStart\'] = 0;\\n    }\\n}\\n\\nif (!empty($displayStart)) {\\n    $scriptProperties[\'includeParents\'] = 1;\\n}\\nif (!empty($ph)) {\\n    $toPlaceholder = $ph;\\n}\\nif (!empty($sortOrder)) {\\n    $scriptProperties[\'sortdir\'] = $sortOrder;\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($permissions)) {\\n    $scriptProperties[\'checkPermissions\'] = $permissions;\\n}\\nif (!empty($cacheResults)) {\\n    $scriptProperties[\'cache\'] = $cacheResults;\\n}\\nif (!empty($ignoreHidden)) {\\n    $scriptProperties[\'showHidden\'] = $ignoreHidden;\\n}\\n\\n$wfTemplates = array(\\n    \'outerTpl\' => \'tplOuter\',\\n    \'rowTpl\' => \'tpl\',\\n    \'parentRowTpl\' => \'tplParentRow\',\\n    \'parentRowHereTpl\' => \'tplParentRowHere\',\\n    \'hereTpl\' => \'tplHere\',\\n    \'innerTpl\' => \'tplInner\',\\n    \'innerRowTpl\' => \'tplInnerRow\',\\n    \'innerHereTpl\' => \'tplInnerHere\',\\n    \'activeParentRowTpl\' => \'tplParentRowActive\',\\n    \'categoryFoldersTpl\' => \'tplCategoryFolder\',\\n    \'startItemTpl\' => \'tplStart\',\\n);\\nforeach ($wfTemplates as $k => $v) {\\n    if (isset(${$k})) {\\n        $scriptProperties[$v] = ${$k};\\n    }\\n}\\n\\/\\/---\\n\\n\\/** @var pdoMenu $pdoMenu *\\/\\n$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);\\n$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoMenu = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\nif (empty($scriptProperties[\'cache_key\'])) {\\n    $scriptProperties[\'cache_key\'] = \'pdomenu\\/\' . sha1(serialize($scriptProperties));\\n}\\n\\n$output = \'\';\\n$tree = array();\\nif ($cache) {\\n    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);\\n}\\nif (empty($tree)) {\\n    $data = $pdoMenu->pdoTools->run();\\n    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);\\n    $tree = array();\\n    foreach ($data as $k => $v) {\\n        if (empty($v[\'id\'])) {\\n            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {\\n                continue;\\n            } else {\\n                $tree = array_merge($tree, $v[\'children\']);\\n            }\\n        } else {\\n            $tree[$k] = $v;\\n        }\\n    }\\n    if ($cache) {\\n        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);\\n    }\\n}\\nif (!empty($tree)) {\\n    $output = $pdoMenu->templateTree($tree);\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoMenuLog\\">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:51:{s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"level\\";a:7:{s:4:\\"name\\";s:5:\\"level\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_level\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"displayStart\\";a:7:{s:4:\\"name\\";s:12:\\"displayStart\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_displayStart\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"resources\\";a:7:{s:4:\\"name\\";s:9:\\"resources\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_resources\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"templates\\";a:7:{s:4:\\"name\\";s:9:\\"templates\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_templates\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_cache\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3600;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"cacheAnonymous\\";a:7:{s:4:\\"name\\";s:14:\\"cacheAnonymous\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_cacheAnonymous\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"plPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"plPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_plPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"wf.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"previewUnpublished\\";a:7:{s:4:\\"name\\";s:18:\\"previewUnpublished\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_previewUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"hideSubMenus\\";a:7:{s:4:\\"name\\";s:12:\\"hideSubMenus\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_hideSubMenus\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"menuindex\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"rowIdPrefix\\";a:7:{s:4:\\"name\\";s:11:\\"rowIdPrefix\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_rowIdPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"firstClass\\";a:7:{s:4:\\"name\\";s:10:\\"firstClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_firstClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"first\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"lastClass\\";a:7:{s:4:\\"name\\";s:9:\\"lastClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_lastClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"last\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"hereClass\\";a:7:{s:4:\\"name\\";s:9:\\"hereClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_hereClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:6:\\"active\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"parentClass\\";a:7:{s:4:\\"name\\";s:11:\\"parentClass\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_parentClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"rowClass\\";a:7:{s:4:\\"name\\";s:8:\\"rowClass\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_rowClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"outerClass\\";a:7:{s:4:\\"name\\";s:10:\\"outerClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_outerClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"innerClass\\";a:7:{s:4:\\"name\\";s:10:\\"innerClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_innerClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"levelClass\\";a:7:{s:4:\\"name\\";s:10:\\"levelClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_levelClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"selfClass\\";a:7:{s:4:\\"name\\";s:9:\\"selfClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_selfClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"webLinkClass\\";a:7:{s:4:\\"name\\";s:12:\\"webLinkClass\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_webLinkClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplOuter\\";a:7:{s:4:\\"name\\";s:8:\\"tplOuter\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplOuter\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:41:\\"@INLINE <ul[[+classes]]>[[+wrapper]]<\\/ul>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li[[+classes]]><a href=\\"[[+link]]\\" [[+attributes]]>[[+menutitle]]<\\/a>[[+wrapper]]<\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplParentRow\\";a:7:{s:4:\\"name\\";s:12:\\"tplParentRow\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplParentRow\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplParentRowHere\\";a:7:{s:4:\\"name\\";s:16:\\"tplParentRowHere\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplParentRowHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplHere\\";a:7:{s:4:\\"name\\";s:7:\\"tplHere\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplInner\\";a:7:{s:4:\\"name\\";s:8:\\"tplInner\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplInner\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplInnerRow\\";a:7:{s:4:\\"name\\";s:11:\\"tplInnerRow\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplInnerRow\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplInnerHere\\";a:7:{s:4:\\"name\\";s:12:\\"tplInnerHere\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplInnerHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"tplParentRowActive\\";a:7:{s:4:\\"name\\";s:18:\\"tplParentRowActive\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_tplParentRowActive\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:17:\\"tplCategoryFolder\\";a:7:{s:4:\\"name\\";s:17:\\"tplCategoryFolder\\";s:4:\\"desc\\";s:31:\\"pdotools_prop_tplCategoryFolder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplStart\\";a:7:{s:4:\\"name\\";s:8:\\"tplStart\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplStart\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:55:\\"@INLINE <h2[[+classes]]>[[+menutitle]]<\\/h2>[[+wrapper]]\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"checkPermissions\\";a:7:{s:4:\\"name\\";s:16:\\"checkPermissions\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_checkPermissions\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"hereId\\";a:7:{s:4:\\"name\\";s:6:\\"hereId\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_hereId\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"select\\";a:7:{s:4:\\"name\\";s:6:\\"select\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_select\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"countChildren\\";a:7:{s:4:\\"name\\";s:13:\\"countChildren\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_countChildren\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdomenu.php","content":"\\/** @var array $scriptProperties *\\/\\n\\n\\/\\/ Convert parameters from Wayfinder if exists\\nif (isset($startId)) {\\n    $scriptProperties[\'parents\'] = $startId;\\n}\\nif (!empty($includeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = $v;\\n        }\\n    }\\n}\\nif (!empty($excludeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\n\\nif (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {\\n    $scriptProperties[\'showUnpublished\'] = 1;\\n}\\n\\n$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;\\nif (!empty($contexts)) {\\n    $scriptProperties[\'context\'] = $contexts;\\n}\\nif (empty($scriptProperties[\'context\'])) {\\n    $scriptProperties[\'context\'] = $modx->resource->context_key;\\n}\\n\\n\\/\\/ Save original parents specified by user\\n$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n\\nif ($scriptProperties[\'parents\'] === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {\\n    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {\\n        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));\\n        $parents = array();\\n        if (!empty($scriptProperties[\'showDeleted\'])) {\\n            $pdoFetch = $modx->getService(\'pdoFetch\');\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        } else {\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        }\\n        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';\\n        $scriptProperties[\'depth\'] = 0;\\n    }\\n    $scriptProperties[\'includeParents\'] = 1;\\n    $scriptProperties[\'displayStart\'] = 0;\\n} else {\\n    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n    $parents_in = $parents_out = array();\\n    foreach ($parents as $v) {\\n        if (!is_numeric($v)) {\\n            continue;\\n        }\\n        if ($v[0] == \'-\') {\\n            $parents_out[] = abs($v);\\n        } else {\\n            $parents_in[] = abs($v);\\n        }\\n    }\\n\\n    if (empty($parents_in)) {\\n        $scriptProperties[\'includeParents\'] = 1;\\n        $scriptProperties[\'displayStart\'] = 0;\\n    }\\n}\\n\\nif (!empty($displayStart)) {\\n    $scriptProperties[\'includeParents\'] = 1;\\n}\\nif (!empty($ph)) {\\n    $toPlaceholder = $ph;\\n}\\nif (!empty($sortOrder)) {\\n    $scriptProperties[\'sortdir\'] = $sortOrder;\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($permissions)) {\\n    $scriptProperties[\'checkPermissions\'] = $permissions;\\n}\\nif (!empty($cacheResults)) {\\n    $scriptProperties[\'cache\'] = $cacheResults;\\n}\\nif (!empty($ignoreHidden)) {\\n    $scriptProperties[\'showHidden\'] = $ignoreHidden;\\n}\\n\\n$wfTemplates = array(\\n    \'outerTpl\' => \'tplOuter\',\\n    \'rowTpl\' => \'tpl\',\\n    \'parentRowTpl\' => \'tplParentRow\',\\n    \'parentRowHereTpl\' => \'tplParentRowHere\',\\n    \'hereTpl\' => \'tplHere\',\\n    \'innerTpl\' => \'tplInner\',\\n    \'innerRowTpl\' => \'tplInnerRow\',\\n    \'innerHereTpl\' => \'tplInnerHere\',\\n    \'activeParentRowTpl\' => \'tplParentRowActive\',\\n    \'categoryFoldersTpl\' => \'tplCategoryFolder\',\\n    \'startItemTpl\' => \'tplStart\',\\n);\\nforeach ($wfTemplates as $k => $v) {\\n    if (isset(${$k})) {\\n        $scriptProperties[$v] = ${$k};\\n    }\\n}\\n\\/\\/---\\n\\n\\/** @var pdoMenu $pdoMenu *\\/\\n$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);\\n$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoMenu = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\nif (empty($scriptProperties[\'cache_key\'])) {\\n    $scriptProperties[\'cache_key\'] = \'pdomenu\\/\' . sha1(serialize($scriptProperties));\\n}\\n\\n$output = \'\';\\n$tree = array();\\nif ($cache) {\\n    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);\\n}\\nif (empty($tree)) {\\n    $data = $pdoMenu->pdoTools->run();\\n    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);\\n    $tree = array();\\n    foreach ($data as $k => $v) {\\n        if (empty($v[\'id\'])) {\\n            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {\\n                continue;\\n            } else {\\n                $tree = array_merge($tree, $v[\'children\']);\\n            }\\n        } else {\\n            $tree[$k] = $v;\\n        }\\n    }\\n    if ($cache) {\\n        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);\\n    }\\n}\\nif (!empty($tree)) {\\n    $output = $pdoMenu->templateTree($tree);\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoMenuLog\\">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}"}',
);