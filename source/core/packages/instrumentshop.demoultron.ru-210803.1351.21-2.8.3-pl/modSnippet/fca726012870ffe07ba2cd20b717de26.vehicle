<?php return array (
  'preserve_keys' => true,
  'update_object' => true,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => '2af5b631c84b26949952af08077b607c',
  'package' => 'modx',
  'class' => 'modSnippet',
  'signature' => 'fca726012870ffe07ba2cd20b717de26',
  'native_key' => 59,
  'object' => '{"id":59,"source":1,"property_preprocess":0,"name":"pdoPage","description":"","editor_type":0,"category":12,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/\\/ Default variables\\nif (empty($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (empty($pageNavVar)) {\\n    $pageNavVar = \'page.nav\';\\n}\\nif (empty($pageCountVar)) {\\n    $pageCountVar = \'pageCount\';\\n}\\nif (empty($totalVar)) {\\n    $totalVar = \'total\';\\n}\\nif (empty($page)) {\\n    $page = 1;\\n}\\nif (empty($pageLimit)) {\\n    $pageLimit = 5;\\n} else {\\n    $pageLimit = (integer)$pageLimit;\\n}\\nif (!isset($plPrefix)) {\\n    $plPrefix = \'\';\\n}\\nif (!empty($scriptProperties[\'ajaxMode\'])) {\\n    $scriptProperties[\'ajax\'] = 1;\\n}\\n\\n\\/\\/ Convert parameters from getPage if exists\\nif (!empty($namespace)) {\\n    $plPrefix = $namespace;\\n}\\nif (!empty($pageNavTpl)) {\\n    $scriptProperties[\'tplPage\'] = $pageNavTpl;\\n}\\nif (!empty($pageNavOuterTpl)) {\\n    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;\\n}\\nif (!empty($pageActiveTpl)) {\\n    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;\\n}\\nif (!empty($pageFirstTpl)) {\\n    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;\\n}\\nif (!empty($pagePrevTpl)) {\\n    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;\\n}\\nif (!empty($pageNextTpl)) {\\n    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;\\n}\\nif (!empty($pageLastTpl)) {\\n    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;\\n}\\nif (!empty($pageSkipTpl)) {\\n    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;\\n}\\nif (!empty($pageNavScheme)) {\\n    $scriptProperties[\'scheme\'] = $pageNavScheme;\\n}\\nif (!empty($cache_expires)) {\\n    $scriptProperties[\'cacheTime\'] = $cache_expires;\\n}\\n\\/\\/---\\n$strictMode = !empty($strictMode);\\n\\n$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';\\nif ($isAjax && !isset($_REQUEST[$pageVarKey])) {\\n    return;\\n}\\n\\n\\/** @var pdoPage $pdoPage *\\/\\n$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);\\n$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoPage = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoPage->pdoTools->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Script and styles\\nif (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {\\n    $pdoPage->loadJsCss();\\n}\\n\\/\\/ Removing of default scripts and styles so they do not overwrote nested snippet parameters\\nif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {\\n    $properties = $snippet->get(\'properties\');\\n    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_js\']);\\n    }\\n    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_css\']);\\n    }\\n}\\n\\n\\/\\/ Page\\nif (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {\\n    return $pdoPage->redirectToFirst($isAjax);\\n} elseif (!empty($_REQUEST[$pageVarKey])) {\\n    $page = (integer)$_REQUEST[$pageVarKey];\\n}\\n$scriptProperties[\'page\'] = $page;\\n$scriptProperties[\'request\'] = $_REQUEST;\\n$scriptProperties[\'setTotal\'] = true;\\n\\n\\/\\/ Limit\\nif (isset($_REQUEST[\'limit\'])) {\\n    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {\\n        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);\\n    } elseif ($strictMode) {\\n        unset($_GET[\'limit\']);\\n\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n}\\nif (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {\\n    $scriptProperties[\'limit\'] = $maxLimit;\\n}\\n\\n\\/\\/ Offset\\n$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0\\n    ? (int)$scriptProperties[\'offset\']\\n    : 0;\\n$scriptProperties[\'offset\'] = $page > 1\\n    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset\\n    : $offset;\\nif (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {\\n    $scriptProperties[\'limit\'] = 10000000;\\n}\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\n$url = $pdoPage->getBaseUrl();\\n$output = $pagination = $total = $pageCount = \'\';\\n\\n$data = $cache\\n    ? $pdoPage->pdoTools->getCache($scriptProperties)\\n    : array();\\n\\nif (empty($data)) {\\n    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);\\n    if ($output === false) {\\n        return \'\';\\n    } elseif (!empty($toPlaceholder)) {\\n        $output = $modx->getPlaceholder($toPlaceholder);\\n    }\\n\\n    \\/\\/ Pagination\\n    $total = (int)$modx->getPlaceholder($totalVar);\\n    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset\\n        ? ceil(($total - $offset) \\/ $scriptProperties[\'limit\'])\\n        : 0;\\n\\n    \\/\\/ Redirect to start if somebody specified incorrect page\\n    if ($page > 1 && $page > $pageCount && $strictMode) {\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n    if (!empty($pageCount) && $pageCount > 1) {\\n        $pagination = array(\\n            \'first\' => $page > 1 && !empty($tplPageFirst)\\n                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)\\n                : \'\',\\n            \'prev\' => $page > 1 && !empty($tplPagePrev)\\n                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)\\n                : \'\',\\n            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)\\n                ? $pdoPage->buildModernPagination($page, $pageCount, $url)\\n                : $pdoPage->buildClassicPagination($page, $pageCount, $url),\\n            \'next\' => $page < $pageCount && !empty($tplPageNext)\\n                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)\\n                : \'\',\\n            \'last\' => $page < $pageCount && !empty($tplPageLast)\\n                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)\\n                : \'\',\\n        );\\n\\n        if (!empty($pageCount)) {\\n            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {\\n                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';\\n                if (!empty(${$tpl}) && empty($pagination[$v])) {\\n                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});\\n                }\\n            }\\n        }\\n    } else {\\n        $pagination = array(\\n            \'first\' => \'\',\\n            \'prev\' => \'\',\\n            \'pages\' => \'\',\\n            \'next\' => \'\',\\n            \'last\' => \'\'\\n        );\\n    }\\n\\n    $data = array(\\n        \'output\' => $output,\\n        $pageVarKey => $page,\\n        $pageCountVar => $pageCount,\\n        $pageNavVar => !empty($tplPageWrapper)\\n            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)\\n            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),\\n        $totalVar => $total,\\n    );\\n    if ($cache) {\\n        $pdoPage->pdoTools->setCache($data, $scriptProperties);\\n    }\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $data[\'output\'] .= \'<pre class=\\"pdoPageLog\\">\' . print_r($pdoPage->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif ($isAjax) {\\n    if ($pageNavVar != \'pagination\') {\\n        $data[\'pagination\'] = $data[$pageNavVar];\\n        unset($data[$pageNavVar]);\\n    }\\n    if ($pageCountVar != \'pages\') {\\n        $data[\'pages\'] = (int)$data[$pageCountVar];\\n        unset($data[$pageCountVar]);\\n    }\\n    if ($pageVarKey != \'page\') {\\n        $data[\'page\'] = (int)$data[$pageVarKey];\\n        unset($data[$pageVarKey]);\\n    }\\n    if ($totalVar != \'total\') {\\n        $data[\'total\'] = (int)$data[$totalVar];\\n        unset($data[$totalVar]);\\n    }\\n\\n    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);\\n\\n    @session_write_close();\\n    exit(json_encode($data));\\n} else {\\n    if (!empty($setMeta)) {\\n        $charset = $modx->getOption(\'modx_charset\', null, \'UTF-8\');\\n        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'\\n            ? rtrim($modx->getOption(\'site_url\'), \'\\/\') . \'\\/\' . ltrim($url, \'\\/\')\\n            : $url;\\n        $modx->regClientStartupHTMLBlock(\'<link rel=\\"canonical\\" href=\\"\' . htmlentities($canurl, ENT_QUOTES, $charset) . \'\\"\\/>\');\\n        if ($data[$pageVarKey] > 1) {\\n            $prevUrl = $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1);\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"prev\\" href=\\"\' . htmlentities($prevUrl, ENT_QUOTES, $charset) . \'\\"\\/>\'\\n            );\\n        }\\n        if ($data[$pageVarKey] < $data[$pageCountVar]) {\\n            $nextUrl = $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1);\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"next\\" href=\\"\' . htmlentities($nextUrl, ENT_QUOTES, $charset) . \'\\"\\/>\'\\n            );\\n        }\\n    }\\n\\n    $modx->setPlaceholders($data, $plPrefix);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);\\n    } else {\\n        return $data[\'output\'];\\n    }\\n}","locked":0,"properties":"a:41:{s:8:\\"plPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"plPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_plPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"maxLimit\\";a:7:{s:4:\\"name\\";s:8:\\"maxLimit\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_maxLimit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:100;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"page\\";a:7:{s:4:\\"name\\";s:4:\\"page\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_page\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"pageVarKey\\";a:7:{s:4:\\"name\\";s:10:\\"pageVarKey\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_pageVarKey\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"page\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"totalVar\\";a:7:{s:4:\\"name\\";s:8:\\"totalVar\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_totalVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:10:\\"page.total\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"pageLimit\\";a:7:{s:4:\\"name\\";s:9:\\"pageLimit\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_pageLimit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:5;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"element\\";a:7:{s:4:\\"name\\";s:7:\\"element\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_element\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:12:\\"pdoResources\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"pageNavVar\\";a:7:{s:4:\\"name\\";s:10:\\"pageNavVar\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_pageNavVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:8:\\"page.nav\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"pageCountVar\\";a:7:{s:4:\\"name\\";s:12:\\"pageCountVar\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_pageCountVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"pageCount\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"pageLinkScheme\\";a:7:{s:4:\\"name\\";s:14:\\"pageLinkScheme\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_pageLinkScheme\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplPage\\";a:7:{s:4:\\"name\\";s:7:\\"tplPage\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplPage\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:88:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[+pageNo]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"tplPageWrapper\\";a:7:{s:4:\\"name\\";s:14:\\"tplPageWrapper\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_tplPageWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:83:\\"@INLINE <ul class=\\"pagination\\">[[+first]][[+prev]][[+pages]][[+next]][[+last]]<\\/ul>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"tplPageActive\\";a:7:{s:4:\\"name\\";s:13:\\"tplPageActive\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_tplPageActive\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item active\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[+pageNo]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplPageFirst\\";a:7:{s:4:\\"name\\";s:12:\\"tplPageFirst\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplPageFirst\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[%pdopage_first]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageLast\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageLast\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageLast\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:94:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[%pdopage_last]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPagePrev\\";a:7:{s:4:\\"name\\";s:11:\\"tplPagePrev\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPagePrev\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:84:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">&laquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageNext\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageNext\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageNext\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:84:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">&raquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageSkip\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageSkip\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageSkip\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:81:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">...<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:17:\\"tplPageFirstEmpty\\";a:7:{s:4:\\"name\\";s:17:\\"tplPageFirstEmpty\\";s:4:\\"desc\\";s:31:\\"pdotools_prop_tplPageFirstEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:96:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">[[%pdopage_first]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPageLastEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPageLastEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPageLastEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">[[%pdopage_last]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPagePrevEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPagePrevEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPagePrevEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:85:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">&laquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPageNextEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPageNextEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPageNextEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:85:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">&raquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_cache\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3600;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"cacheAnonymous\\";a:7:{s:4:\\"name\\";s:14:\\"cacheAnonymous\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_cacheAnonymous\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"ajax\\";a:7:{s:4:\\"name\\";s:4:\\"ajax\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_ajax\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"ajaxMode\\";a:7:{s:4:\\"name\\";s:8:\\"ajaxMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_ajaxMode\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:4:{i:0;a:2:{s:4:\\"text\\";s:4:\\"None\\";s:5:\\"value\\";s:0:\\"\\";}i:1;a:2:{s:4:\\"text\\";s:7:\\"Default\\";s:5:\\"value\\";s:7:\\"default\\";}i:2;a:2:{s:4:\\"text\\";s:6:\\"Scroll\\";s:5:\\"value\\";s:6:\\"scroll\\";}i:3;a:2:{s:4:\\"text\\";s:6:\\"Button\\";s:5:\\"value\\";s:6:\\"button\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"ajaxElemWrapper\\";a:7:{s:4:\\"name\\";s:15:\\"ajaxElemWrapper\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_ajaxElemWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:8:\\"#pdopage\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemRows\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemRows\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemRows\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:14:\\"#pdopage .rows\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"ajaxElemPagination\\";a:7:{s:4:\\"name\\";s:18:\\"ajaxElemPagination\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_ajaxElemPagination\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:20:\\"#pdopage .pagination\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemLink\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemLink\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemLink\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:22:\\"#pdopage .pagination a\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemMore\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemMore\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemMore\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:18:\\"#pdopage .btn-more\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"ajaxTplMore\\";a:7:{s:4:\\"name\\";s:11:\\"ajaxTplMore\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_ajaxTplMore\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:75:\\"@INLINE <button class=\\"btn btn-primary btn-more\\">[[%pdopage_more]]<\\/button>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"ajaxHistory\\";a:7:{s:4:\\"name\\";s:11:\\"ajaxHistory\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_ajaxHistory\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:3:{i:0;a:2:{s:4:\\"text\\";s:4:\\"Auto\\";s:5:\\"value\\";s:0:\\"\\";}i:1;a:2:{s:4:\\"text\\";s:7:\\"Enabled\\";s:5:\\"value\\";i:1;}i:2;a:2:{s:4:\\"text\\";s:8:\\"Disabled\\";s:5:\\"value\\";i:0;}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"frontend_js\\";a:7:{s:4:\\"name\\";s:11:\\"frontend_js\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_frontend_js\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:31:\\"[[+assetsUrl]]js\\/pdopage.min.js\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"frontend_css\\";a:7:{s:4:\\"name\\";s:12:\\"frontend_css\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_frontend_css\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:33:\\"[[+assetsUrl]]css\\/pdopage.min.css\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"setMeta\\";a:7:{s:4:\\"name\\";s:7:\\"setMeta\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_setMeta\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"strictMode\\";a:7:{s:4:\\"name\\";s:10:\\"strictMode\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_strictMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdopage.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/\\/ Default variables\\nif (empty($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (empty($pageNavVar)) {\\n    $pageNavVar = \'page.nav\';\\n}\\nif (empty($pageCountVar)) {\\n    $pageCountVar = \'pageCount\';\\n}\\nif (empty($totalVar)) {\\n    $totalVar = \'total\';\\n}\\nif (empty($page)) {\\n    $page = 1;\\n}\\nif (empty($pageLimit)) {\\n    $pageLimit = 5;\\n} else {\\n    $pageLimit = (integer)$pageLimit;\\n}\\nif (!isset($plPrefix)) {\\n    $plPrefix = \'\';\\n}\\nif (!empty($scriptProperties[\'ajaxMode\'])) {\\n    $scriptProperties[\'ajax\'] = 1;\\n}\\n\\n\\/\\/ Convert parameters from getPage if exists\\nif (!empty($namespace)) {\\n    $plPrefix = $namespace;\\n}\\nif (!empty($pageNavTpl)) {\\n    $scriptProperties[\'tplPage\'] = $pageNavTpl;\\n}\\nif (!empty($pageNavOuterTpl)) {\\n    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;\\n}\\nif (!empty($pageActiveTpl)) {\\n    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;\\n}\\nif (!empty($pageFirstTpl)) {\\n    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;\\n}\\nif (!empty($pagePrevTpl)) {\\n    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;\\n}\\nif (!empty($pageNextTpl)) {\\n    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;\\n}\\nif (!empty($pageLastTpl)) {\\n    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;\\n}\\nif (!empty($pageSkipTpl)) {\\n    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;\\n}\\nif (!empty($pageNavScheme)) {\\n    $scriptProperties[\'scheme\'] = $pageNavScheme;\\n}\\nif (!empty($cache_expires)) {\\n    $scriptProperties[\'cacheTime\'] = $cache_expires;\\n}\\n\\/\\/---\\n$strictMode = !empty($strictMode);\\n\\n$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';\\nif ($isAjax && !isset($_REQUEST[$pageVarKey])) {\\n    return;\\n}\\n\\n\\/** @var pdoPage $pdoPage *\\/\\n$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);\\n$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoPage = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoPage->pdoTools->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Script and styles\\nif (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {\\n    $pdoPage->loadJsCss();\\n}\\n\\/\\/ Removing of default scripts and styles so they do not overwrote nested snippet parameters\\nif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {\\n    $properties = $snippet->get(\'properties\');\\n    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_js\']);\\n    }\\n    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_css\']);\\n    }\\n}\\n\\n\\/\\/ Page\\nif (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {\\n    return $pdoPage->redirectToFirst($isAjax);\\n} elseif (!empty($_REQUEST[$pageVarKey])) {\\n    $page = (integer)$_REQUEST[$pageVarKey];\\n}\\n$scriptProperties[\'page\'] = $page;\\n$scriptProperties[\'request\'] = $_REQUEST;\\n$scriptProperties[\'setTotal\'] = true;\\n\\n\\/\\/ Limit\\nif (isset($_REQUEST[\'limit\'])) {\\n    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {\\n        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);\\n    } elseif ($strictMode) {\\n        unset($_GET[\'limit\']);\\n\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n}\\nif (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {\\n    $scriptProperties[\'limit\'] = $maxLimit;\\n}\\n\\n\\/\\/ Offset\\n$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0\\n    ? (int)$scriptProperties[\'offset\']\\n    : 0;\\n$scriptProperties[\'offset\'] = $page > 1\\n    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset\\n    : $offset;\\nif (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {\\n    $scriptProperties[\'limit\'] = 10000000;\\n}\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\n$url = $pdoPage->getBaseUrl();\\n$output = $pagination = $total = $pageCount = \'\';\\n\\n$data = $cache\\n    ? $pdoPage->pdoTools->getCache($scriptProperties)\\n    : array();\\n\\nif (empty($data)) {\\n    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);\\n    if ($output === false) {\\n        return \'\';\\n    } elseif (!empty($toPlaceholder)) {\\n        $output = $modx->getPlaceholder($toPlaceholder);\\n    }\\n\\n    \\/\\/ Pagination\\n    $total = (int)$modx->getPlaceholder($totalVar);\\n    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset\\n        ? ceil(($total - $offset) \\/ $scriptProperties[\'limit\'])\\n        : 0;\\n\\n    \\/\\/ Redirect to start if somebody specified incorrect page\\n    if ($page > 1 && $page > $pageCount && $strictMode) {\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n    if (!empty($pageCount) && $pageCount > 1) {\\n        $pagination = array(\\n            \'first\' => $page > 1 && !empty($tplPageFirst)\\n                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)\\n                : \'\',\\n            \'prev\' => $page > 1 && !empty($tplPagePrev)\\n                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)\\n                : \'\',\\n            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)\\n                ? $pdoPage->buildModernPagination($page, $pageCount, $url)\\n                : $pdoPage->buildClassicPagination($page, $pageCount, $url),\\n            \'next\' => $page < $pageCount && !empty($tplPageNext)\\n                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)\\n                : \'\',\\n            \'last\' => $page < $pageCount && !empty($tplPageLast)\\n                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)\\n                : \'\',\\n        );\\n\\n        if (!empty($pageCount)) {\\n            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {\\n                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';\\n                if (!empty(${$tpl}) && empty($pagination[$v])) {\\n                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});\\n                }\\n            }\\n        }\\n    } else {\\n        $pagination = array(\\n            \'first\' => \'\',\\n            \'prev\' => \'\',\\n            \'pages\' => \'\',\\n            \'next\' => \'\',\\n            \'last\' => \'\'\\n        );\\n    }\\n\\n    $data = array(\\n        \'output\' => $output,\\n        $pageVarKey => $page,\\n        $pageCountVar => $pageCount,\\n        $pageNavVar => !empty($tplPageWrapper)\\n            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)\\n            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),\\n        $totalVar => $total,\\n    );\\n    if ($cache) {\\n        $pdoPage->pdoTools->setCache($data, $scriptProperties);\\n    }\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $data[\'output\'] .= \'<pre class=\\"pdoPageLog\\">\' . print_r($pdoPage->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif ($isAjax) {\\n    if ($pageNavVar != \'pagination\') {\\n        $data[\'pagination\'] = $data[$pageNavVar];\\n        unset($data[$pageNavVar]);\\n    }\\n    if ($pageCountVar != \'pages\') {\\n        $data[\'pages\'] = (int)$data[$pageCountVar];\\n        unset($data[$pageCountVar]);\\n    }\\n    if ($pageVarKey != \'page\') {\\n        $data[\'page\'] = (int)$data[$pageVarKey];\\n        unset($data[$pageVarKey]);\\n    }\\n    if ($totalVar != \'total\') {\\n        $data[\'total\'] = (int)$data[$totalVar];\\n        unset($data[$totalVar]);\\n    }\\n\\n    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);\\n\\n    @session_write_close();\\n    exit(json_encode($data));\\n} else {\\n    if (!empty($setMeta)) {\\n        $charset = $modx->getOption(\'modx_charset\', null, \'UTF-8\');\\n        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'\\n            ? rtrim($modx->getOption(\'site_url\'), \'\\/\') . \'\\/\' . ltrim($url, \'\\/\')\\n            : $url;\\n        $modx->regClientStartupHTMLBlock(\'<link rel=\\"canonical\\" href=\\"\' . htmlentities($canurl, ENT_QUOTES, $charset) . \'\\"\\/>\');\\n        if ($data[$pageVarKey] > 1) {\\n            $prevUrl = $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1);\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"prev\\" href=\\"\' . htmlentities($prevUrl, ENT_QUOTES, $charset) . \'\\"\\/>\'\\n            );\\n        }\\n        if ($data[$pageVarKey] < $data[$pageCountVar]) {\\n            $nextUrl = $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1);\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"next\\" href=\\"\' . htmlentities($nextUrl, ENT_QUOTES, $charset) . \'\\"\\/>\'\\n            );\\n        }\\n    }\\n\\n    $modx->setPlaceholders($data, $plPrefix);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);\\n    } else {\\n        return $data[\'output\'];\\n    }\\n}"}',
);